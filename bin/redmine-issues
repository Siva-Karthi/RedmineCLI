#!/usr/bin/env node
var program = require('commander');
var redmine = require('../module/redmine.js');
var printer = require('../module/printer.js')

program
  .option('-P, --project <project>', 'Only display issues for the specified project.')
  .option('-p, --priority <priority>', 'Only display issues with specified priority.')
  .option('-a, --assignee <assignee>', 'Only display issues for the specified assignee.')
  .option('-s, --status <status>', 'Only display issues with the specified status.')
  .option('-t, --tracker <tracker>', 'Only display issues for the specified tracker.')
  .parse(process.argv);

try{
  redmine.connect('http://redmine.org', 'apiKey');
  var issues = redmine.getIssues();
  printer.printIssues(issues.issues);
} catch(err){console.error(err)}
